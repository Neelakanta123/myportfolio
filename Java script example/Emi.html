<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emi Calculator</title>
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">
    <style>
        #lblAmount, #lblYear, #lblRate {
            border:1px solid black;
            width:100px;
            height: 30px;
            padding: 10px;
            border-radius: 10px;
            font-size: 15px;
            margin-left: 20px;
            margin-right: 20px;
        }
        #rangeAmount, #rangeYear, #rangeRate {
            width: 150px;
            padding: 5px;
        }
        .box {
            border:2px solid black;
            box-shadow: 4px 4px 3px gray;
            padding: 20px;
        }
    </style>
    <script>
        var amount, years, rate;
        function AmountChange(){
            amount = document.getElementById("rangeAmount").value;
            document.getElementById("lblAmount").innerHTML = `&#8377; ${amount}`;
        }
        function YearChange(){
            years = document.getElementById("rangeYear").value;
            document.getElementById("lblYear").innerHTML = `${years}`;
        }
        function RateChange(){
            rate = document.getElementById("rangeRate").value;
            document.getElementById("lblRate").innerHTML = `${rate}%`;
        }
        function Calculate(){
            var p = parseFloat(amount);
            var n = parseInt(years) * 12;
            var r = parseFloat(rate)/12/100;
            var EMI =  p * r / (1- (Math.pow(1/(1 + r), n)));
            document.getElementById("lblResult").innerHTML = `
               You EMI amount is &#8377; <b>${Math.round(EMI)}</b> per month
            `;
        }
    </script>
</head>
<body class="container-fluid">
    <h1 class="text-center">Personal Loan EMI Calculator</h1>
    <div class="box">
        <div class="mt-4">
            <div class="row">
                <div class="col">
                    Amount you need <span id="lblAmount">&#8377; 45000</span>
                </div>
                <div class="col">
                    for <span id="lblYear"> 5 </span> years
                </div>
                <div class="col">
                    Interest Rate <span id="lblRate"> 16.45 </span>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col">
                    <div class="input-group">
                        <span>50,000/-</span>
                        <input id="rangeAmount" onchange="AmountChange()" type="range" class="form-range" value="50000" min="50000" max="500000">
                        <span>5,00,000/-</span>
                    </div>
                </div>
                <div class="col">
                    <span>1</span>
                    <input id="rangeYear" onchange="YearChange()" type="range" class="form-range" min="1" max="5" value="1">
                    <span>5</span>
                </div>
                <div class="col">
                    <span>10.00%</span>
                    <input id="rangeRate" onchange="RateChange()" type="range" class="form-range" value="10.00" min="10.00" max="21.00" step="0.01">
                    <span>21.00%</span>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col text-center">
                    <button onclick="Calculate()" class="btn btn-primary">Calculate</button>
                </div>
            </div>
        </div>
        <div class="mt-4 text-center">
            <p id="lblResult"></p>
        </div>
    </div>
</body>
</html>